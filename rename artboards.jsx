#include ".scripts/polyfills.jsx"#include ".scripts/underscore.jsx"// convert artboard dimensions into a sane coordinate spacevar artboards = [];_.each(app.activeDocument.artboards, function(ab) {    // ignore artboards when the name starts with "-"    if (ab.name.charAt(0) == '-') return;    var r = ab.artboardRect;    artboards.push({        ab: ab,        left: r[0],        top: r[1] * -1,        right: r[2],        bottom: r[3] * -1,        width: r[2] - r[0],        height: (r[3] - r[1]) * -1    });});// compute vertical artboard rangevar min_y = 9e9,    max_y = -9e9;_.each(artboards, function(ab) {    min_y = Math.min(min_y, ab.top);    max_y = Math.max(max_y, ab.bottom);});// decide what artboards are "mobile" (first row)// or "desktop" (second row)var mobile = [],    desktop = [];    _.each(artboards, function(ab) {    if (Math.abs(ab.top - min_y) < Math.abs(ab.bottom - max_y)) {        // top edge closer to top artboard range        mobile.push(ab);    } else {        desktop.push(ab);    }});// sort artboards by leftfunction byLeft(a,b) {    return a.left - b.left;}mobile = mobile.sort(byLeft);desktop = desktop.sort(byLeft);// rename!_.each(mobile, function(ab, i) {    ab.ab.name = 'slide-' + (i+1) + '-mobile'; });_.each(desktop, function(ab, i) {    ab.ab.name = 'slide-' + (i+1) + '-desktop'; });